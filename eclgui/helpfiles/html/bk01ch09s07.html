<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>TRANSFORM Structure</title><link rel="stylesheet" href="eclipsehelp.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Reference"><link rel="up" href="bk01ch09.html" title="Special Structures"><link rel="prev" href="bk01ch09s06s04.html" title="LIBRARY Modules"><link rel="next" href="bk01ch09s07s01.html" title="Transformation Attribute Definitions"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">TRANSFORM Structure</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="bk01ch09s06s04.html">Prev</a>&nbsp;</td><th width="60%" align="center"><span class="bold"><strong>Special Structures</strong></span></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="bk01ch09s07s01.html">Next</a></td></tr></table><hr></div><div class="sect1" title="TRANSFORM Structure"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="TRANSFORM_Structure"></a>TRANSFORM Structure<a class="indexterm" name="d4e4535"></a></h2></div></div></div><p><span class="emphasis"><em>resulttype funcname </em></span><span class="bold"><strong>(</strong></span><span class="emphasis"><em> parameterlist </em></span><span class="bold"><strong>) := TRANSFORM<a class="indexterm" name="d4e4542"></a> [, SKIP<a class="indexterm" name="d4e4544"></a>( </strong></span><span class="emphasis"><em>condition</em></span><span class="bold"><strong> )]</strong></span><span class="bold"><strong> </strong></span></p><p><span class="bold"><strong> [ </strong></span><span class="emphasis"><em>locals</em></span> <span class="bold"><strong>]</strong></span></p><p><span class="bold"><strong></strong></span><span class="bold"><strong> SELF</strong></span><a class="indexterm" name="d4e4556"></a>.<span class="emphasis"><em>outfield</em></span> := <span class="emphasis"><em>transformation</em></span>;<span class="bold"><strong></strong></span></p><p><span class="bold"><strong>END;</strong></span><span class="bold"><strong></strong></span></p><p><span class="bold"><strong></strong></span></p><p><span class="bold"><strong>TRANSFORM( </strong></span><span class="emphasis"><em>resulttype, assignments </em></span><span class="bold"><strong> )</strong></span><span class="bold"><strong></strong></span></p><p><span class="bold"><strong></strong></span></p><p><span class="bold"><strong>TRANSFORM( </strong></span><span class="emphasis"><em>datarow </em></span><span class="bold"><strong> )</strong></span></p><div class="informaltable"><table border="0"><colgroup><col width="21%" align="left"><col width="79%"></colgroup><tbody><tr><td align="left"><span class="emphasis"><em>resulttype</em></span></td><td>The name of a RECORD structure Attribute that specifies the output format of the function. You may use TYPEOF here to specify a dataset. Any implicit relationality of the input dataset is not inherited.</td></tr><tr><td align="left"><span class="emphasis"><em>funcname</em></span></td><td>The name of the function the TRANSFORM structure defines.</td></tr><tr><td align="left"><span class="emphasis"><em>parameterlist</em></span></td><td>The value types and labels of the parameters that will be passed to the TRANSFORM function. These are usually the dataset records or COUNTER parameters but are not limited to those.</td></tr><tr><td align="left"><span class="bold"><strong>SKIP</strong></span></td><td>Optional. Specifies the <span class="emphasis"><em>condition</em></span> under which the TRANSFORM function operation is skipped.</td></tr><tr><td align="left"><span class="emphasis"><em>condition</em></span></td><td>A logical expression defining under what circumstances the TRANSFORM operation does not occur. This may use data from the <span class="emphasis"><em>parameterlist</em></span> in the same manner as a <span class="emphasis"><em>transformation</em></span> expression.</td></tr><tr><td align="left"><span class="emphasis"><em>locals</em></span></td><td>Optional. Definitions of local Attributes useful within the TRANSFORM function. These may be defined to receive parameters and may use any parameters passed to the TRANSFORM.</td></tr><tr><td align="left"><span class="bold"><strong>SELF</strong></span></td><td>Specifies the resulting output recordset from the TRANSFORM.</td></tr><tr><td align="left"><span class="emphasis"><em>outfield</em></span></td><td>The name of a field in the <span class="emphasis"><em>resulttype</em></span> structure.</td></tr><tr><td align="left"><span class="emphasis"><em>transformation</em></span></td><td>An expression specifying how to produce the value for the <span class="emphasis"><em>outfield</em></span>. This may include other TRANSFORM function operations (nested transforms).</td></tr><tr><td align="left"><span class="emphasis"><em>assignments</em></span></td><td>A semi-colon delimited list of SELF.<span class="emphasis"><em>outfield</em></span>:= <span class="emphasis"><em>transformation</em></span> definitions.</td></tr><tr><td align="left"><span class="emphasis"><em>datarow</em></span></td><td>A single record to transform, typically the keyword LEFT.</td></tr></tbody></table></div><p>The <span class="bold"><strong>TRANSFORM </strong></span>structure makes operations that must be performed on entire datasets (such as a JOIN) and any iterative type of record processing (PROJECT, ITERATE, etc.), possible. A TRANSFORM defines the specific operations that must occur on a record-by-record basis. It defines the function that is called each time the operation that uses the TRANSFORM needs to process record(s). One TRANSFORM function may be defined in terms of another, and they may be nested.</p><p>The TRANSFORM structure specifies exactly how each field in the output record set is to receive its value. That result value may simply be the value of a field in an input record set, or it may be the result of some complex calculation or conditional expression evaluation.</p><p>The TRANSFORM structure itself is a generic tool; each operation that uses a TRANSFORM function defines what its TRANSFORM needs to receive and what basic functionality it should provide. Therefore, the real key to understanding TRANSFORM structures is in understanding how it is used by the calling function -- each function that uses a TRANSFORM documents the type of TRANSFORM required to accomplish the goal, although the TRANSFORM itself may also provide extra functionality and receive extra parameters beyond those required by the operation itself.</p><p>The SKIP option specifies the <span class="emphasis"><em>condition</em></span> that results in no output from that iteration of the TRANSFORM. However, COUNTER values are incremented even when SKIP eliminates generating the current record.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="bk01ch09s06s04.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="bk01ch09.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="bk01ch09s07s01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">LIBRARY Modules&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Transformation Attribute Definitions</td></tr></table></div></body></html>