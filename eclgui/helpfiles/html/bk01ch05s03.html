<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>INDEX</title><link rel="stylesheet" href="eclipsehelp.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Reference"><link rel="up" href="bk01ch05.html" title="Record Structures and Files"><link rel="prev" href="bk01ch05s02s09.html" title="DATASET as a Parameter Type"><link rel="next" href="bk01ch05s03s01.html" title="Keyed Access INDEX"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">INDEX</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="bk01ch05s02s09.html">Prev</a>&nbsp;</td><th width="60%" align="center"><span class="bold"><strong>Record Structures and Files</strong></span></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="bk01ch05s03s01.html">Next</a></td></tr></table><hr></div><div class="sect1" title="INDEX"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="INDEX_record_structure"></a>INDEX</h2></div></div></div><p><span class="emphasis"><em> attr</em></span><span class="bold"><strong> := INDEX<a class="indexterm" name="d4e2765"></a>([</strong></span><span class="emphasis"><em> baserecset, </em></span><span class="bold"><strong>]</strong></span><span class="emphasis"><em> keys, indexfile </em></span><span class="bold"><strong>[,SORTED<a class="indexterm" name="d4e2771"></a>] [,PRELOAD<a class="indexterm" name="d4e2773"></a>]</strong></span><span class="bold"><strong> [,OPT<a class="indexterm" name="d4e2776"></a>] [,COMPRESSED<a class="indexterm" name="d4e2778"></a>( LZW<a class="indexterm" name="d4e2780"></a> | ROW<a class="indexterm" name="d4e2782"></a> | FIRST<a class="indexterm" name="d4e2784"></a>) ]</strong></span><span class="bold"><strong> [,DISTRIBUTED<a class="indexterm" name="d4e2787"></a>]);</strong></span><span class="emphasis"><em></em></span></p><p><span class="emphasis"><em> attr</em></span><span class="bold"><strong> := INDEX([</strong></span><span class="emphasis"><em> baserecset, </em></span><span class="bold"><strong>]</strong></span><span class="emphasis"><em> keys, payload, indexfile </em></span><span class="bold"><strong>[,SORTED] [,PRELOAD]</strong></span><span class="bold"><strong> [,OPT] [,COMPRESSED( LZW | ROW | FIRST) ]</strong></span><span class="bold"><strong> [,DISTRIBUTED]);</strong></span><span class="emphasis"><em></em></span></p><p><span class="emphasis"><em> attr</em></span><span class="bold"><strong> := INDEX(</strong></span><span class="emphasis"><em>index,newindexfile</em></span><span class="bold"><strong>);</strong></span></p><div class="informaltable"><table border="0"><colgroup><col width="21%" align="left"><col width="79%"></colgroup><tbody><tr><td align="left"><span class="emphasis"><em>attr</em></span></td><td>The name of the INDEX for later use in other attributes.</td></tr><tr><td align="left"><span class="emphasis"><em>baserecset</em></span></td><td>Optional. The set of data records for which the index file has been created. If omitted, all fields in the <span class="emphasis"><em>keys</em></span>and <span class="emphasis"><em>payload</em></span>parameters must be fully qualified.</td></tr><tr><td align="left"><span class="emphasis"><em>keys</em></span></td><td>The RECORD structure of the fields in the <span class="emphasis"><em>indexfile</em></span> that contains key and file position information for referencing into the <span class="emphasis"><em>baserecset</em></span>. Field names and types must match the <span class="emphasis"><em>baserecset</em></span> fields (REAL and DECIMAL type fields are not supported). This may also contain additional fields not present in the <span class="emphasis"><em>baserecset</em></span>(computed fields). If omitted, all fields in the <span class="emphasis"><em>baserecset</em></span> are used.</td></tr><tr><td align="left"><span class="emphasis"><em>payload</em></span></td><td>The RECORD structure of the <span class="emphasis"><em>indexfile</em></span> that contains additional fields not used as keys. If the name of the <span class="emphasis"><em>baserecset</em></span> is in the structure, it specifies &#8220;all other fields not already named in the <span class="emphasis"><em>keys</em></span> parameter.&#8221; This may contain fields not present in the <span class="emphasis"><em>baserecordset</em></span>(computed fields). The <span class="emphasis"><em>payload</em></span> fields do not take up space in the non-leaf nodes of the index and cannot be referenced in a KEYED() filter clause.</td></tr><tr><td align="left"><span class="emphasis"><em>indexfile</em></span></td><td>A string constant containing the logical filename of the index. See the <span class="emphasis"><em>Scope &amp; Logical Filenames</em></span> section for more on logical filenames.</td></tr><tr><td align="left"><span class="bold"><strong>SORTED</strong></span></td><td>Optional. Specifies that when the index is accessed the records come out in the order of the <span class="emphasis"><em>keys</em></span>. If omitted, the returned record order is undefined.</td></tr><tr><td align="left"><span class="bold"><strong>PRELOAD</strong></span></td><td>Optional. Specifies that the <span class="emphasis"><em>indexfile</em></span> is left in memory after loading (valid only for Data Delivery Engine use).</td></tr><tr><td align="left"><span class="bold"><strong>OPT</strong></span></td><td><p>Optional. Specifies that using the index when the <span class="emphasis"><em>indexfile</em></span> doesn&#8217;t exist results in an empty recordset instead of an error condition.</p></td></tr><tr><td align="left"><span class="bold"><strong>COMPRESSED</strong></span></td><td><p>Optional. Specifies the type of compression used. If omitted, the default is <span class="bold"><strong>LZW</strong></span>, a variant of the Lempel-Ziv-Welch algorithm. Specifying <span class="bold"><strong>ROW</strong></span> compresses index entries based on differences between contiguous rows (for use with fixed-length records, only), and is recommended for use in circumstances where speedier decompression time is more important than the amount of compression achieved. <span class="bold"><strong>FIRST</strong></span> compresses common leading elements of the key (recommended only for timing comparison use).</p></td></tr><tr><td align="left"><span class="bold"><strong>DISTRIBUTED</strong></span></td><td>Optional. Specifies that the index was created with the DISTRIBUTED option on the BUILD action<a class="indexterm" name="d4e2871"></a> or the BUILD action simply referenced the INDEX declaration<a class="indexterm" name="d4e2873"></a> with the DISTRIBUTED option. The INDEX is therefore accessed locally on each node (similar to the LOCAL function<a class="indexterm" name="d4e2875"></a>, which is preferred), is not globally sorted, and there is no root index to indicate which part of the index will contain a particular entry. This may be useful in Roxie queries in conjunction with ALLNODES use.</td></tr><tr><td align="left"><span class="emphasis"><em>index</em></span></td><td><p>The name of a previously defined INDEX attribute to duplicate.</p></td></tr><tr><td align="left"><span class="emphasis"><em>newindexfile</em></span></td><td><p>A string constant containing the logical filename of the new index. See the <span class="emphasis"><em>Scope &amp; Logical Filenames</em></span> section for more on logical filenames.</p></td></tr></tbody></table></div><p><span class="bold"><strong>INDEX </strong></span>declares a previously created index for use. INDEX is related to BUILD (or BUILDINDEX) in the same manner that DATASET is to OUTPUT&#8212;BUILD creates an index file that INDEX then defines for use in ECL code. Index files are compressed. A single index record must be defined as less than 32K and result in a less than 8K page after compression.</p><p>The Binary-tree metakey portion of the INDEX is a separate 32K file part on the first node of the Thor cluster on which it was built, but deployed to every node of a Roxie cluster. There are as many leaf-node file parts as there are nodes to the Thor cluster on which it was built. The specific distribution of the leaf-node records across execution nodes is undefined in general, as it depends on the size of the cluster on which it was built and the size of the cluster on which it is used.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="bk01ch05s02s09.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="bk01ch05.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="bk01ch05s03s01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">DATASET as a Parameter Type&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;Keyed Access INDEX</td></tr></table></div></body></html>