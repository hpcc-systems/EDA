<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>GROUP</title><link rel="stylesheet" href="eclipsehelp.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.1"><link rel="home" href="index.html" title="ECL Reference"><link rel="up" href="bk01ch10.html" title="Built-in Functions and Actions"><link rel="prev" href="bk01ch10s48.html" title="GRAPH"><link rel="next" href="bk01ch10s50.html" title="HASH"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">GROUP</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="bk01ch10s48.html">Prev</a>&nbsp;</td><th width="60%" align="center"><span class="bold"><strong>Built-in Functions and Actions</strong></span></th><td width="20%" align="right">&nbsp;<a accesskey="n" href="bk01ch10s50.html">Next</a></td></tr></table><hr></div><div class="sect1" title="GROUP"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="GROUP_function"></a>GROUP</h2></div></div></div><p><span class="bold"><strong>GROUP<a class="indexterm" name="d4e7547"></a><a class="indexterm" name="d4e7549"></a>( </strong></span><span class="emphasis"><em>recordset </em></span><span class="bold"><strong>[</strong></span><span class="emphasis"><em>, breakcriteria </em></span><span class="bold"><strong>[</strong></span>,<span class="bold"><strong> ALL<a class="indexterm" name="d4e7556"></a> ] ] [</strong></span><span class="emphasis"><em>, </em></span><span class="bold"><strong>LOCAL<a class="indexterm" name="d4e7560"></a></strong></span><span class="emphasis"><em> </em></span><span class="bold"><strong>] )</strong></span></p><div class="informaltable"><table border="0"><colgroup><col width="14%"><col width="86%"></colgroup><tbody><tr><td><span class="emphasis"><em>recordset</em></span></td><td>The set of records to fragment.</td></tr><tr><td><span class="emphasis"><em>breakcriteria</em></span></td><td>Optional. A comma-delimited list of expressions or key fields in the recordset that specifies how to fragment the recordset. You may use the keyword RECORD to indicate all fields in the recordset, and/or you may use the keyword EXCEPT to list non-group fields in the structure. You may also use the keyword ROW to indicate each record in the recordset is a separate group. If omitted, the recordset is ungrouped from any previous grouping.</td></tr><tr><td><span class="bold"><strong>ALL</strong></span></td><td>Optional. Indicates the <span class="emphasis"><em>breakcriteria</em></span> is applied without regard to any previous order. If omitted, GROUP assumes the recordset is already sorted in <span class="emphasis"><em>breakcriteria</em></span> order.</td></tr><tr><td><span class="bold"><strong>LOCAL</strong></span></td><td>Optional. Specifies the operation is performed on each supercomputer node independently, without requiring interaction with all other nodes to acquire data; the operation maintains the distribution of any previous DISTRIBUTE.</td></tr><tr><td>Return:</td><td>GROUP returns a record set.</td></tr></tbody></table></div><p>The <span class="bold"><strong>GROUP </strong></span>function fragments a <span class="emphasis"><em>recordset</em></span> into a set of sets. This allows aggregations and other operations (such as ITERATE, DEDUP, ROLLUP, SORT and others) to occur within defined subsets of the data&#8212;the operation executes on each subset, individually. This means that the boundary condition code written in the TRANSFORM function for those functions that use them will be different than it would be for a <span class="emphasis"><em>recordset</em></span> that has simply been SORTed.</p><p>The <span class="emphasis"><em>recordset</em></span> must be sorted by the same elements as the <span class="emphasis"><em>breakcriteria</em></span> if the ALL option is not specified. The maximum size allowed for any one subgroup is 64 Mb and subgroups never span nodes; if the <span class="emphasis"><em>breakcriteria</em></span> results in a subgroup larger than 64 Mb, an error occurs.</p><p>The <span class="emphasis"><em>recordset</em></span> gets &#8216;ungrouped&#8217; by use in a TABLE function, by the JOIN function in some circumstances (see JOIN), by UNGROUP, or by another GROUP function with the second parameter omitted.</p><p>Example:</p><pre class="programlisting">MyRec := RECORD
 STRING20 Last;
 STRING20 First;
END;
SortedSet := SORT(Person,Person.last_name); //sort by last name
GroupedSet := GROUP(SortedSet,last_name);  //then group them

SecondSort := SORT(GroupedSet,Person.first_name);
   //sorts by first name within each last name group
   // this is a &#8220;sort within group&#8221;

UnGroupedSet := GROUP(GroupedSet); //ungroup the dataset
MyTable := TABLE(SecondSort,MyRec); //create table of sorted names
</pre><p>See Also: <a class="link" href="bk01ch10s98.html" title="REGROUP">REGROUP</a>, <a class="link" href="bk01ch10s19.html" title="COMBINE">COMBINE</a>, <a class="link" href="bk01ch10s127.html" title="UNGROUP">UNGROUP</a>, <a class="link" href="bk01ch08s02.html" title="EXCEPT">EXCEPT</a></p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="bk01ch10s48.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="bk01ch10.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="bk01ch10s50.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">GRAPH&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;HASH</td></tr></table></div></body></html>